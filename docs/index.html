<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>パレットシステム AZ-CORE インフォメーション</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/style.css?1">
<script src="./js/fixmenu_pagetop.js"></script>
<script src="./js/azesptool.js?1"></script>
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>

$(function(){

	$('a[href^="#"]').click(function() {
		var speed = 800;
		var a_id = $(this).attr("id");
		var href= $(this).attr("href");
		var target = $(href == "#" || href == "" ? 'html' : href);
		if (a_id == "write_firm") return false;
		var position = target.offset().top;
		$('body,html').animate({scrollTop:position}, speed, 'swing');
		return false;
	});
	
    $("#write_firm").click(function() {
        azesp.write_firm([
            {"address": 0x0, "data": "./data/az_keyboard.0.1.6.ino.bootloader.bin"},
            {"address": 0x8000, "data": "./data/az_keyboard.0.1.6.ino.partitions.bin"},
            {"address": 0xe000, "data": "./data/boot_app0.bin"},
            {"address": 0x10000, "data": "./data/az_keyboard.0.1.6.ino.bin"}
        ], 921600, "write_info");
        return false;
    });

    $("#erase_flash").click(function() {
        azesp.erase_flash(921600, "erase_info");
        return false;
    });

});


</script>
</head>

<body>

<header>
</header>

<div id="container">

<div id="contents">

<section id="new">

<h2>ファームウェア</h2>
<div class="content_body">

<br>
まずPCとESP32-C3を接続して、ESP32C3ボード上のタクトスイッチBを押したままタクトスイッチRを押して、離して下さい。<br>
(ESP32-C3を書込みモードで起動した状態にします)<br>
<br>
その後、下記の「書込み」ボタンで書込みを行って下さい。<br>
書込み完了後1分ほど放置してからUSBを刺しなおして(電源を入れ直せればOK)下さい。<br>
(1分ほど放置は最初の書き込み時のみ、2度目の書込み以降は完了後すぐ電源入れなおしてOK)<br>
<br>

<a id="write_firm" class="link_btn">　Version　0.1.6　書込み</a><br>
<div id="write_info"></div>
<br><br>

<a id="erase_flash" class="link_btn">　ESP32-C3　クリア</a><br>
<div id="erase_info"></div>
<br><br>


※ ブラウザは Chrome を使用して下さい。<br>
※ 書込み中はブラウザを閉じないで下さい。<br>
※ エラーが起こる場合はUSBを抜き差しし、ページを再読み込みして下さい。<br>
※ ケーブルや刺したUSB端子によってうまく書き込めない場合があるので、他のケーブルや、差し込むUSB端子を変えて試して下さい。<br>
※ 書込みには esp-web-flasher を使用しています。<br>
<br><br>


<br><br>
<h2>キーマップの変更</h2>
<div class="content_body">
PCとAZ-COREをBluetoothでペアリングした後、こちらの<b>AZTOOL</b>から変更して下さい。<br><br>
　→ <a href='https://palette-system.github.io/aztool/' target='_blank'>https://palette-system.github.io/aztool/</a>
<br><br>


※ Macではプライバシー設定の入力監視でChromeを許可して下さい。<br>
</div>


</section>
<!--/#new-->



<!--ページの上部に戻る「↑」ボタン-->
<p class="nav-fix-pos-pagetop"><a href="#">↑</a></p>

</div>
</div>

</body>
</html>
